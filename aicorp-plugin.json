const OpenAI = require('openai');
const openai = new OpenAI('org-tvgRwo98tBTV2pvH8MGvw8mj');

app.use(express.json());

// Estrutura inicial da organização
let organization = {
    CEO: {
        name: "Leandro",
        departments: {
            Marketing_Publicidade_e_Comunicacao: {
                manager: "Marina Silva",
                roles: {
                    Analista_de_Mercado: "Carlos Oliveira"
                }
            },
            Design_e_Desenvolvimento: {
                manager: null,
                roles: {
                    Designer_Grafico: "Laura Almeida",
                    Desenvolvedor_Web: "Rafael Souza"
                }
            },
            Analise_de_Dados_e_TI: {
                manager: null,
                roles: {
                    Analista_de_Dados: "Beatriz Costa",
                    Administrador_de_Sistemas: "Rodrigo Martins"
                }
            },
            Growth_Hacking: {
                manager: "Felipe Araujo",
                roles: {}
            },
            Redacao_Copywriting: {
                manager: "Sofia Ribeiro",
                roles: {}
            },
            Sucesso_do_Cliente_Customer_Success: {
                manager: "Eduardo Lima",
                roles: {
                    Especialista_em_Onboarding_de_Clientes: "Camila Ferreira"
                }
            },
            Operacoes_e_Logistica: {
                manager: "Roberto Alves",
                roles: {
                    Coordenador_de_Logistica: "Juliana Castro"
                }
            },
            Financas_e_Contabilidade: {
                manager: "Alexandre Barros",
                roles: {
                    Contador: "Fernanda Rocha"
                }
            },
            Recursos_Humanos_RH: {
                manager: "Patricia Mendes",
                roles: {
                    Recrutador: "Gabriel Silva"
                }
            },
            Departamento_Juridico: {
                manager: "Renata Cardoso",
                roles: {}
            }
        }
    },
    structure: {
        Marketing_Publicidade_e_Comunicacao: [
            "Gestão de produtos",
            "Publicidade e promoções",
            "Relações com clientes",
            "Análise de mercado",
            "Gestão de marca",
            "Planejamento de campanhas e promoções"
        ],
        Design_e_Desenvolvimento: [
            "Design gráfico e web",
            "Desenvolvimento e manutenção de site",
            "Ideias criativas para produtos"
        ],
        // ... outras estruturas de departamentos
    },
    currentPhase: null,
    interactiveMenu: null
};

app.get('/organization', (req, res) => {
    res.json(organization);
});

app.listen(3000, () => {
    console.log('Server is running on port 3000');
});
